@model DiarioDeEspecime.Models.Projeto

@{
    ViewData["Title"] = "Detalhes do Projeto";
    var regraUsuario = ViewBag.RegraUsuario as DiarioDeEspecime.Models.RegraProjeto?;
}

<h2>Detalhes do Projeto</h2>

<div class="mb-3">
    <dl class="row">
        <dt class="col-sm-3">Nome</dt>
        <dd class="col-sm-9">@Model.Nome</dd>

        <dt class="col-sm-3">Descrição</dt>
        <dd class="col-sm-9">@Model.Descricao</dd>

        <dt class="col-sm-3">Data de Início</dt>
        <dd class="col-sm-9">@Model.DataInicio.ToString("dd/MM/yyyy")</dd>

        <dt class="col-sm-3">Data de Término</dt>
        <dd class="col-sm-9">
            @(Model.DataFim.HasValue ? Model.DataFim.Value.ToString("dd/MM/yyyy") : "Não definido")
        </dd>

        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">@Model.Status</dd>
    </dl>
</div>
<div class="mb-3">
    <a asp-controller="Especie" asp-action="Index" class="btn btn-outline-primary">
        <i class="fas fa-leaf"></i> Ver Espécies
    </a>
    <a asp-controller="Especime" asp-action="Index" asp-route-projetoId="@Model.Id" class="btn btn-outline-primary">
        <i class="fas fa-dna"></i> Ver Espécimes do Projeto
    </a>
    @if (regraUsuario == DiarioDeEspecime.Models.RegraProjeto.Criador)
    {
        <a asp-controller="UsuarioProjeto" asp-action="Index" asp-route-projetoId="@Model.Id" class="btn btn-primary">
            Gerenciar Usuários
        </a>
    }
</div>


@if (regraUsuario == DiarioDeEspecime.Models.RegraProjeto.Criador)
{
    <div class="mt-3">
        <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Editar</a>
        <form asp-action="Delete" asp-route-id="@Model.Id" method="post" class="d-inline">
            <button type="submit" class="btn btn-danger">Excluir</button>
        </form>
    </div>
}
else
{
    <p class="text-muted">Você tem permissão apenas para visualizar este projeto.</p>
}
